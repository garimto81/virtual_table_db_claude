# í¬ì»¤ ìŠ¤íŠ¸ë¦¬íŠ¸ í”„ë¡œì„¸ìŠ¤ ì™„ì „ ì •ì˜

## ðŸ“Œ ìŠ¤íŠ¸ë¦¬íŠ¸ì˜ ê¸°ë³¸ ê·œì¹™

### ì•¡ì…˜ ìˆœì„œ
1. **ë”œëŸ¬ ë²„íŠ¼ ê¸°ì¤€**: ì‹œê³„ ë°©í–¥ìœ¼ë¡œ ì§„í–‰
2. **í”„ë¦¬í”Œëž**: ë¹…ë¸”ë¼ì¸ë“œ ë‹¤ìŒ í”Œë ˆì´ì–´ë¶€í„° ì‹œìž‘
3. **í¬ìŠ¤íŠ¸í”Œëž**: ìŠ¤ëª°ë¸”ë¼ì¸ë“œ(ë˜ëŠ” ê°€ìž¥ ê°€ê¹Œìš´ í™œì„± í”Œë ˆì´ì–´)ë¶€í„° ì‹œìž‘

## ðŸŽ¯ ìŠ¤íŠ¸ë¦¬íŠ¸ì—ì„œ ê°€ëŠ¥í•œ ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤

### 1. PREFLOP ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1-1: ëª¨ë‘ í´ë“œ
```
UTG: Fold
MP: Fold  
CO: Fold
BTN: Fold
SB: Fold
â†’ BB ìŠ¹ë¦¬ (ì¢…ë£Œ)
```
**ì¢…ë£Œ ì¡°ê±´**: 1ëª…ë§Œ ë‚¨ìŒ

#### ì‹œë‚˜ë¦¬ì˜¤ 1-2: ë¦¼í”„ íŒŸ
```
UTG: Call BB
MP: Call BB
CO: Call BB
BTN: Call BB
SB: Call BB
BB: Check
â†’ FLOPìœ¼ë¡œ ì§„í–‰
```
**ì¢…ë£Œ ì¡°ê±´**: ëª¨ë“  í”Œë ˆì´ì–´ê°€ ê°™ì€ ê¸ˆì•¡ì„ ë„£ê³ , ë§ˆì§€ë§‰ í”Œë ˆì´ì–´ê°€ Check/Call

#### ì‹œë‚˜ë¦¬ì˜¤ 1-3: ë ˆì´ì¦ˆì™€ ì½œ
```
UTG: Raise to 3BB
MP: Fold
CO: Call 3BB
BTN: Fold
SB: Fold
BB: Call 3BB
â†’ FLOPìœ¼ë¡œ ì§„í–‰
```
**ì¢…ë£Œ ì¡°ê±´**: ë ˆì´ì¦ˆ í›„ ëª¨ë“  í™œì„± í”Œë ˆì´ì–´ê°€ ì½œ

#### ì‹œë‚˜ë¦¬ì˜¤ 1-4: 3ë²³ê³¼ 4ë²³
```
UTG: Raise to 3BB
MP: Reraise to 9BB (3bet)
CO: Fold
BTN: Reraise to 27BB (4bet)
SB: Fold
BB: Fold
UTG: Call 27BB
MP: Call 27BB
â†’ FLOPìœ¼ë¡œ ì§„í–‰
```
**ì¢…ë£Œ ì¡°ê±´**: ë§ˆì§€ë§‰ ë ˆì´ì¦ˆì— ëª¨ë‘ ì½œ

#### ì‹œë‚˜ë¦¬ì˜¤ 1-5: ì˜¬ì¸
```
UTG: Raise to 3BB
MP: All-in 100BB
CO: Fold
BTN: Call 100BB (ë˜ëŠ” All-in)
SB: Fold
BB: Fold
UTG: Fold
â†’ 2ëª… ì˜¬ì¸, ì¦‰ì‹œ 5ìž¥ ì˜¤í”ˆ ê°€ëŠ¥
```
**íŠ¹ìˆ˜ ìƒí™©**: ì‚¬ì´ë“œíŒŸ ì—†ëŠ” í—¤ë“œì—… ì˜¬ì¸

### 2. POSTFLOP (Flop/Turn/River) ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 2-1: ì „ì› ì²´í¬
```
SB: Check
BB: Check
UTG: Check
MP: Check
â†’ ë‹¤ìŒ ìŠ¤íŠ¸ë¦¬íŠ¸ë¡œ
```
**ì¢…ë£Œ ì¡°ê±´**: ëª¨ë“  í™œì„± í”Œë ˆì´ì–´ ì²´í¬

#### ì‹œë‚˜ë¦¬ì˜¤ 2-2: ë²³ê³¼ ì½œ
```
SB: Check
BB: Bet 50
UTG: Call 50
MP: Call 50
SB: Call 50
â†’ ë‹¤ìŒ ìŠ¤íŠ¸ë¦¬íŠ¸ë¡œ
```
**ì¢…ë£Œ ì¡°ê±´**: ë²³ì— ëª¨ë‘ ì½œ

#### ì‹œë‚˜ë¦¬ì˜¤ 2-3: ë²³ê³¼ ë ˆì´ì¦ˆ
```
SB: Check
BB: Bet 50
UTG: Raise to 150
MP: Fold
SB: Fold
BB: Call 150
â†’ ë‹¤ìŒ ìŠ¤íŠ¸ë¦¬íŠ¸ë¡œ
```
**ì¢…ë£Œ ì¡°ê±´**: ë ˆì´ì¦ˆì— ë‚¨ì€ í”Œë ˆì´ì–´ ì½œ

#### ì‹œë‚˜ë¦¬ì˜¤ 2-4: ì²´í¬-ë ˆì´ì¦ˆ
```
SB: Check
BB: Check
UTG: Bet 100
MP: Fold
SB: Raise to 300 (ì²´í¬-ë ˆì´ì¦ˆ)
BB: Fold
UTG: Call 300
â†’ ë‹¤ìŒ ìŠ¤íŠ¸ë¦¬íŠ¸ë¡œ
```
**ì¢…ë£Œ ì¡°ê±´**: ì²´í¬-ë ˆì´ì¦ˆì— ì½œ

#### ì‹œë‚˜ë¦¬ì˜¤ 2-5: ë©€í‹°í”Œ ë ˆì´ì¦ˆ
```
SB: Bet 50
BB: Raise to 150
UTG: Reraise to 450
SB: Call 450
BB: Call 450
â†’ ë‹¤ìŒ ìŠ¤íŠ¸ë¦¬íŠ¸ë¡œ
```
**ì¢…ë£Œ ì¡°ê±´**: ë§ˆì§€ë§‰ ë ˆì´ì¦ˆì— ëª¨ë‘ ì½œ

## ðŸ” ìŠ¤íŠ¸ë¦¬íŠ¸ ì¢…ë£Œ ì¡°ê±´ ëª…í™•í™”

### âœ… ì •ìƒ ì¢…ë£Œ (ë‹¤ìŒ ìŠ¤íŠ¸ë¦¬íŠ¸ë¡œ ì§„í–‰)
1. **ëª¨ë“  í™œì„± í”Œë ˆì´ì–´ê°€ ê°™ì€ ê¸ˆì•¡ì„ íŒŸì— ë„£ì—ˆê³ **
2. **ë§ˆì§€ë§‰ ì•¡ì…˜ì´ Check ë˜ëŠ” Call**

```javascript
function isStreetComplete(street) {
  const actions = state.actionState[street];
  const activePlayers = getActivePlayers(); // fold/allin ì œì™¸
  
  if (actions.length === 0) return false;
  
  // ë§ˆì§€ë§‰ ì•¡ì…˜ í™•ì¸
  const lastAction = actions[actions.length - 1];
  if (!['Checks', 'Calls'].includes(lastAction.action)) {
    return false;
  }
  
  // ê° í”Œë ˆì´ì–´ì˜ ì´ ë² íŒ…ì•¡ ê³„ì‚°
  const playerBets = {};
  actions.forEach(action => {
    if (action.amount && action.player) {
      playerBets[action.player] = (playerBets[action.player] || 0) + 
                                   parseInt(action.amount);
    }
  });
  
  // ì˜¬ì¸ì´ ì•„ë‹Œ í™œì„± í”Œë ˆì´ì–´ë“¤ì˜ ë² íŒ…ì•¡ í™•ì¸
  const betAmounts = activePlayers
    .filter(p => state.playerStatus[p] !== 'allin')
    .map(p => playerBets[p] || 0);
  
  // ëª¨ë‘ ê°™ì€ ê¸ˆì•¡ì¸ì§€ í™•ì¸ (ì²´í¬ëŠ” 0)
  const maxBet = Math.max(...betAmounts);
  return betAmounts.every(amt => amt === maxBet || amt === 0);
}
```

### ðŸ›‘ ì¡°ê¸° ì¢…ë£Œ (í•¸ë“œ ì¢…ë£Œ)
1. **1ëª…ë§Œ ë‚¨ìŒ** (ë‚˜ë¨¸ì§€ ëª¨ë‘ í´ë“œ)
2. **ì˜¬ì¸ ì‡¼ë‹¤ìš´** (ë² íŒ… ë¶ˆê°€ëŠ¥í•œ ìƒí™©)

```javascript
function shouldEndHand() {
  const activePlayers = getActivePlayers();
  
  // 1ëª…ë§Œ ë‚¨ìŒ
  if (activePlayers.length === 1) {
    return { end: true, reason: 'last_player' };
  }
  
  // ì˜¬ì¸ ì‡¼ë‹¤ìš´ ì²´í¬
  const nonAllinPlayers = activePlayers.filter(p => 
    state.playerStatus[p] !== 'allin'
  );
  
  if (nonAllinPlayers.length <= 1) {
    // ë² íŒ… ê°€ëŠ¥í•œ í”Œë ˆì´ì–´ê°€ 0ëª… ë˜ëŠ” 1ëª…
    return { end: true, reason: 'allin_showdown' };
  }
  
  return { end: false };
}
```

### â¸ï¸ ëŒ€ê¸° ìƒíƒœ (ì•¡ì…˜ í•„ìš”)
1. **ë² íŒ…/ë ˆì´ì¦ˆ í›„** ë‹¤ë¥¸ í”Œë ˆì´ì–´ ì•¡ì…˜ ëŒ€ê¸°
2. **ì²´í¬ í›„** ë‹¤ìŒ í”Œë ˆì´ì–´ ì•¡ì…˜ ëŒ€ê¸°

## ðŸ“Š ì‚¬ì´ë“œíŒŸ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 3-1: ë‹¨ìˆœ ì‚¬ì´ë“œíŒŸ
```
Player A (100 chips): All-in 100
Player B (300 chips): Call 100
Player C (500 chips): Call 100
â†’ ë©”ì¸íŒŸ: 300 (A, B, C ì°¸ì—¬)
â†’ Bì™€ CëŠ” ê³„ì† ë² íŒ… ê°€ëŠ¥
```

### ì‹œë‚˜ë¦¬ì˜¤ 3-2: ë³µìˆ˜ ì‚¬ì´ë“œíŒŸ
```
Player A (50 chips): All-in 50
Player B (150 chips): All-in 150
Player C (500 chips): Call 150
â†’ ë©”ì¸íŒŸ: 150 (A, B, C ì°¸ì—¬)
â†’ ì‚¬ì´ë“œíŒŸ1: 200 (B, C ì°¸ì—¬)
â†’ CëŠ” ê³„ì† ë² íŒ… ê°€ëŠ¥
```

## ðŸŽ® ìžë™ ì§„í–‰ íŠ¸ë¦¬ê±°

### ì¦‰ì‹œ ì§„í–‰ ê°€ëŠ¥
```javascript
const AUTO_ADVANCE_TRIGGERS = {
  // 1. ëª¨ë‘ ì²´í¬
  allCheck: (actions, players) => {
    return players.every(p => 
      actions.find(a => a.player === p && a.action === 'Checks')
    );
  },
  
  // 2. ë²³/ë ˆì´ì¦ˆì— ëª¨ë‘ ì½œ
  allCall: (actions, players) => {
    const lastRaise = findLastRaise(actions);
    if (!lastRaise) return false;
    
    const afterRaise = actions.slice(actions.indexOf(lastRaise) + 1);
    return players
      .filter(p => p !== lastRaise.player)
      .every(p => afterRaise.find(a => 
        a.player === p && ['Calls', 'Folds'].includes(a.action)
      ));
  },
  
  // 3. 1ëª… ì œì™¸ ëª¨ë‘ í´ë“œ
  onlyOneLeft: (actions, players) => {
    const foldCount = actions.filter(a => a.action === 'Folds').length;
    return foldCount >= players.length - 1;
  },
  
  // 4. ì˜¬ì¸ ì‡¼ë‹¤ìš´
  allinShowdown: (actions, players) => {
    const allinCount = actions.filter(a => a.action === 'All In').length;
    const activeNonAllin = players.length - allinCount;
    return activeNonAllin <= 1;
  }
};
```

## ðŸ“‹ ì•¡ì…˜ ìœ íš¨ì„± ê²€ì¦

### ìœ íš¨í•œ ì•¡ì…˜ ì¡°í•©
```javascript
function getValidActions(player, street) {
  const lastAction = getLastAction(street);
  const playerLastAction = getPlayerLastAction(player, street);
  
  // ì´ë¯¸ í´ë“œí•œ í”Œë ˆì´ì–´
  if (state.playerStatus[player] === 'folded') {
    return [];
  }
  
  // ì´ë¯¸ ì˜¬ì¸í•œ í”Œë ˆì´ì–´
  if (state.playerStatus[player] === 'allin') {
    return [];
  }
  
  // ì²« ì•¡ì…˜ (í¬ìŠ¤íŠ¸í”Œëž) ë˜ëŠ” ì²´í¬ í›„
  if (!lastAction || lastAction.action === 'Checks') {
    return ['Check', 'Bet', 'All In'];
  }
  
  // ë² íŒ…/ë ˆì´ì¦ˆ í›„
  if (['Bets', 'Raises', 'All In'].includes(lastAction.action)) {
    // ì´ë¯¸ ê°™ì€ ê¸ˆì•¡ì„ ì½œí–ˆìœ¼ë©´ ì•¡ì…˜ ë¶ˆê°€
    if (playerLastAction?.action === 'Calls' && 
        playerLastAction.amount === lastAction.amount) {
      return [];
    }
    return ['Fold', 'Call', 'Raise', 'All In'];
  }
  
  return [];
}
```

## ðŸš€ êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Level 1: ê¸°ë³¸ ì¢…ë£Œ ì¡°ê±´
- [x] 1ëª…ë§Œ ë‚¨ìŒ ê°ì§€
- [x] ëª¨ë‘ ì²´í¬ ê°ì§€
- [x] ë²³ì— ëª¨ë‘ ì½œ ê°ì§€

### Level 2: ì˜¬ì¸ ì²˜ë¦¬
- [ ] ì˜¬ì¸ í”Œë ˆì´ì–´ ì¶”ì 
- [ ] ì‚¬ì´ë“œíŒŸ ê³„ì‚°
- [ ] ì˜¬ì¸ ì‡¼ë‹¤ìš´ ê°ì§€

### Level 3: ìžë™ ì§„í–‰
- [ ] ìŠ¤íŠ¸ë¦¬íŠ¸ ì™„ë£Œ ìžë™ ê°ì§€
- [ ] ë‹¤ìŒ ìŠ¤íŠ¸ë¦¬íŠ¸ ìžë™ ì „í™˜
- [ ] ë³´ë“œ ì¹´ë“œ ìžë™ í”„ë¡¬í”„íŠ¸

### Level 4: ê³ ê¸‰ ê¸°ëŠ¥
- [ ] ì•¡ì…˜ íƒ€ì´ë¨¸
- [ ] ë¯¸ìŠ¤í´ë¦­ ë°©ì§€
- [ ] ì•¡ì…˜ ížˆìŠ¤í† ë¦¬ ë¶„ì„